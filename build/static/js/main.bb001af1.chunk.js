(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{21:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var c=t(2),o=t.n(c),r=t(16),i=t.n(r),a=(t(21),t(3)),u=t(4),s=t.n(u),d="/api/persons",l=function(){return s.a.get(d)},b=function(e){return s.a.post(d,e)},j=function(e,n){return s.a.put("".concat(d,"/").concat(e),n)},h=function(e){return s.a.delete("".concat(d,"/").concat(e))},f=t(0),m=function(e){var n,t=e.message,c=e.type;return null===t?null:(n="Error"===c?{color:"red",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}:{color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},Object(f.jsx)("div",{style:n,children:t}))},O=function(e){return Object(f.jsxs)("div",{children:["filter shown with ",Object(f.jsx)("input",{onChange:e.onChange})]})},g=function(e){return Object(f.jsxs)("form",{onSubmit:e.submit,children:[Object(f.jsxs)("div",{children:["name: ",Object(f.jsx)("input",{value:e.name,onChange:e.onNameChange})]}),Object(f.jsxs)("div",{children:["number: ",Object(f.jsx)("input",{value:e.number,onChange:e.onNumberChange})]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",children:"add"})})]})},p=function(e){return Object(f.jsx)("div",{children:e.list.map((function(n){return Object(f.jsx)("div",{children:n.name.toLowerCase().includes(e.filter.toLowerCase())?Object(f.jsxs)("p",{children:[n.name," ",n.number," ",Object(f.jsx)("button",{onClick:function(){return e.onDelete(n)},children:"delete"})]}):null})}))})},x=function(){var e=Object(c.useState)([]),n=Object(a.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(""),i=Object(a.a)(r,2),u=i[0],s=i[1],d=Object(c.useState)(""),x=Object(a.a)(d,2),v=x[0],S=x[1],C=Object(c.useState)(""),w=Object(a.a)(C,2),y=w[0],k=w[1],D=Object(c.useState)(null),N=Object(a.a)(D,2),B=N[0],E=N[1],F=Object(c.useState)(""),L=Object(a.a)(F,2),I=L[0],P=L[1];Object(c.useEffect)((function(){l().then((function(e){o(e.data)}))}),[]);return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Phonebook"}),Object(f.jsx)(m,{message:B,type:I}),Object(f.jsx)(O,{onChange:function(e){var n=e.target.value;S(n)}}),Object(f.jsx)("h3",{children:"add a new"}),Object(f.jsx)(g,{name:u,onNameChange:function(e){s(e.target.value)},number:y,onNumberChange:function(e){k(e.target.value)},submit:function(e){e.preventDefault();var n={name:u,number:y},c=t.find((function(e){return e.name===u}));c&&window.confirm("".concat(u," is already added to phonebook, replace the old number with a new one?"))?j(c.id,n).then((function(e){o(t.map((function(n){return n.id!==c.id?n:e.data})))})):(o(t.concat(n)),s(""),k(""),b(n).then((function(e){E("Successfully added ".concat(n.name)),P("Success"),l().then((function(e){o(e.data)})),console.log(e)})))}}),Object(f.jsx)("h3",{children:"Numbers"}),Object(f.jsx)(p,{list:t,filter:v,onDelete:function(e){window.confirm("Delete ".concat(e.name," ?"))&&h(e.id).then((function(n){return o(t.filter((function(n){return e.id!==n.id})))}),E("Successfully removed ".concat(e.name)),P("Success")).catch((function(n){console.log(n),E("Information of ".concat(e.name," has already been removed from server")),P("Error")}))}})]})},v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),c(e),o(e),r(e),i(e)}))};i.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(x,{})}),document.getElementById("root")),v()}},[[41,1,2]]]);
//# sourceMappingURL=main.bb001af1.chunk.js.map